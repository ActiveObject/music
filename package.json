{
  "name": "music",
  "version": "0.3.1",
  "description": "Music player",
  "main": "index.js",
  "keywords": [
    "music"
  ],
  "author": "Vasyl Pryimachuk <activeobject.ac@gmail.com>",
  "repository": {
    "type": "git",
    "url": "https://github.com/ActiveObject/music.git"
  },
  "license": "Apache-2.0",
  "devDependencies": {
    "babel-loader": "^4.1.0",
    "chai": "^1.9.2",
    "css-loader": "^0.8.0",
    "exports-loader": "^0.6.2",
    "expose-loader": "^0.5.3",
    "grunt": "^0.4.5",
    "grunt-cli": "^0.1.13",
    "grunt-svgstore": "^0.3.3",
    "imports-loader": "^0.6.3",
    "jshint": "^2.6.0",
    "jshint-stylish": "^0.4.0",
    "mocha": "^1.21.4",
    "style-loader": "^0.8.0",
    "stylus-loader": "^0.4.0",
    "webpack": "^1.4.3",
    "webpack-dev-server": "^1.6.5"
  },
  "dependencies": {
    "baconjs": "^0.7.22",
    "colors": "^0.6.2",
    "curry": "^1.2.0",
    "debug": "^1.0.4",
    "immutable": "^3.5.0",
    "impulse": "^0.1.0",
    "iscroll": "^5.1.2",
    "jsonp": "0.0.4",
    "mime": "^1.2.11",
    "moment": "^2.7.0",
    "moment-duration-format": "^1.3.0",
    "newrelic": "^1.11.3",
    "node-static": "^0.7.6",
    "page": "^1.3.7",
    "react": "0.13.0",
    "underscore": "^1.8.0",
    "uuid": "^2.0.1",
    "when": "^3.4.2"
  },
  "engines": {
    "node": "0.10.x"
  },
  "config": {
    "webapp:output": "_public",
    "chromeapp:output": "_chromeapp"
  },
  "scripts": {
    "start": "node server.js",
    "test": "npm run build:test && mocha test/app.js",
    "build": "npm run build:webapp",
    "dev": "npm run dev:webapp",
    "deploy": "npm run deploy:divshot",
    "lint": "jshint ./src/**/*.js --reporter node_modules/jshint-stylish/stylish.js",

    "test-server": "mocha -w test/app.js -R dot",
    "test-build-server": "webpack --entry=./test/index.js --target node --output-path=test --output-file=app.js --watch",

    "dev:webapp": "npm run prebuild:webapp && npm run copy:webapp:dev && npm run webpack:webapp-dev",
    "dev:chromeapp": "npm run prebuild:chromeapp && npm run copy:chromeapp:dev && npm run webpack:chromeapp-dev",

    "build:webapp": "npm run copy:webapp && npm run webpack:webapp",
    "build:chromeapp": "npm run copy:chromeapp && npm run webpack:chromeapp && zip -r chromeapp.zip $npm_package_config_chromeapp_output",
    "build:test": "webpack --entry=./test/index.js --target node --output-path=test --output-file=app.js",
    "prebuild:webapp": "npm run clean:build && npm run clean:webapp && mkdir $npm_package_config_webapp_output && npm run lint && grunt build --output-dir=$npm_package_config_webapp_output && npm run clean:build",
    "prebuild:chromeapp": "npm run clean:build && npm run clean:chromeapp && mkdir $npm_package_config_chromeapp_output && npm run lint && grunt build --output-dir=$npm_package_config_chromeapp_output && npm run clean:build",

    "clean:build": "rm -rf build",
    "clean:webapp": "rm -rf $npm_package_config_webapp_output",
    "clean:chromeapp": "rm -rf $npm_package_config_chromeapp_output",

    "copy:assets": "cp -R src/assets/* $COPY_DEST",
    "copy:vendor:dev": "cp vendor/soundmanager2.js $COPY_DEST/soundmanager2.js",
    "copy:vendor:prod": "cp vendor/soundmanager2-nodebug-jsmin.js $COPY_DEST/soundmanager2.js",
    "copy:webapp": "COPY_DEST=$npm_package_config_webapp_output npm run copy:vendor:prod && COPY_DEST=$npm_package_config_webapp_output npm run copy:assets",
    "copy:webapp:dev": "COPY_DEST=$npm_package_config_webapp_output npm run copy:vendor:dev && COPY_DEST=$npm_package_config_webapp_output npm run copy:assets",
    "copy:chromeapp": "COPY_DEST=$npm_package_config_chromeapp_output npm run copy:vendor:prod && COPY_DEST=$npm_package_config_chromeapp_output npm run copy:assets && cp -R src/chromeapp/assets/* $npm_package_config_chromeapp_output",
    "copy:chromeapp:dev": "COPY_DEST=$npm_package_config_chromeapp_output npm run copy:vendor:dev && COPY_DEST=$npm_package_config_chromeapp_output npm run copy:assets &&  cp -R src/chromeapp/assets/* $npm_package_config_chromeapp_output",

    "webpack:webapp": "NODE_ENV=production webpack --entry=./src/main-webapp.js -p --debug --devtool source-map --progress",
    "webpack:webapp-dev": "webpack-dev-server --entry=./src/main-webapp.js --progress --colors --port=5003 --content-base=$npm_package_config_webapp_output --debug --devtool eval-source-map --output-pathinfo --inline",
    "webpack:chromeapp": "MUSIC_APP_ID=4812383 NODE_ENV=production webpack --entry=./src/main-chromeapp.js --output-path=$npm_package_config_chromeapp_output --debug --devtool source-map --progress",
    "webpack:chromeapp-dev": "MUSIC_APP_ID=4812383 webpack --entry=./src/main-chromeapp.js --output-path=$npm_package_config_chromeapp_output --watch --debug --devtool source-map --progress",

    "deploy:divshot": "MUSIC_APP_ID=4656659 npm run build:webpack && divshot push production",
    "deploy:divshot:dev": "MUSIC_APP_ID=4656659 npm run build:webapp && divshot push development"
  }
}
